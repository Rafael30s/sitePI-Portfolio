<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Balsamiq+Sans&family=Lobster&family=Squada+One&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu&display=swap" rel="stylesheet">
    <link rel="shortcut icon" type="image/x-icon" href="/imagens/favicon.ico">
    <link rel="stylesheet" href="../CSS/style.css">
    <link rel="stylesheet" href="../CSS/formulario.css">
    <link rel="stylesheet" href="../CSS/modal.css">

    <script src="https://kit.fontawesome.com/6d6952c5be.js" crossorigin="anonymous"></script>

    <title>Stories Kingdom</title>
</head>

<body>
    <div id="header2">
        <header>
            <span class="logo">Stories<span>Kingdom</span></span> <a href="/"><span></span> Voltar para home</a>
        </header>
    </div>
    <div id="formulario">
        <form action="/cadastrar" method="POST">
            <h1>Cadastre-se</h1>

            <fieldset>
                <div class="field">
                    <label for="nome">Nome Completo</label>
                    <input type="text" name="nome" required>
                </div>


                <div class="field-group">
                    <div class="field">
                        <label for="username">Username</label><input type="text" name="username" required>
                    </div>
                    <div class="field">
                        <label for="email">E-mail</label><input type="email" name="email" required>
                    </div>
                </div>
                <div class="field-group">
                    <div class="field">
                        <label for="senha">Senha</label><input type="password" name="senha" id="senha" required>
                    </div>
                    <div class="field">
                        <label for="confirmaSenha">Confirme sua senha</label><input type="password" name="confirmaSenha"
                            id="confirmaSenha" oninput="Validar()" required>
                    </div>
                </div>
                <div id="saida"></div>

                <a href="/login"><span>Já está cadastrado?</span></a>
            </fieldset>
            <button id="btn" type="submit">Cadastrar</button>
        </form>
    </div>
    {% block modal %}
    {% if saved %}
    {% include "partials/modalCadastro.html" %}
    {% endif %}
    {% endblock modal %}
</body>
<script>
    let validarSenha;
    function Validar() {
        validarSenha = (senha.value == confirmaSenha.value);
        if (validarSenha) {
            saida.innerHTML='';
            btn.disabled = false;
            btn.style.cursor = 'pointer';
        } else {
            saida.innerHTML = `<div class="ajusteErro" id="ajuste"><div id="erro" class="m-erro">Confirme sua senha corretamente! </div>  </div>`;
            btn.disabled = true;
            btn.style.cursor = 'not-allowed';

        }
    }
</script>

</html>